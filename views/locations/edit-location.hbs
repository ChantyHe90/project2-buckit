<h4>Edit your Buckit Item (Location)</h4>

<h1>{{this.title}}</h1>

<form action="/locations/{{this._id}}" method="post">
  <input type="text" name="title" value="{{this.title}}">
  <br>


  <div>
    <div id='map' style='width: 400px; height: 400px;'></div>
    <script>
      mapboxgl.accessToken = 'pk.eyJ1IjoiZXhhbXBsZXMiLCJhIjoiY2p0MG01MXRqMW45cjQzb2R6b2ptc3J4MSJ9.zA2W0IkI0c6KaAhJfk9bWg';
      var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [-77.06, 38.0],
        zoom: 13
      });

      var geocoder = new MapboxGeocoder({
        accessToken: mapboxgl.accessToken,
        mapboxgl: mapboxgl
      });

      map.addControl(geocoder, 'top-left');


      map.on('load', function () {

        // Listen for the `geocoder.input` event that is triggered when a user
        // makes a selection
        geocoder.on('result', function (ev) {

          document.getElementById("location-name").value = ev.result.place_name;

        });
      });


    </script>
  </div>
  {{!--  <input type="text" name="location" value="{{this.location}}"> --}}
  <input id="location-name" name="location" type="hidden" value="{{this.location}}">
  <br>
  <input type="text" name="plan" value="{{this.plan}}">
  <br>
  <input type="date" name="expireDate" value="{{this.expireDate}}">
  <br>
  <button type="submit">SUBMIT</button>
  <br>
</form>

<form action="/locations/{{this._id}}/delete" method="POST">
  <button type="submit" class="btn btn-outline-secondary btn-dark">
    DELETE
  </button>
</form>